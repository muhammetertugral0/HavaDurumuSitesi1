<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Hava Durumu UygulamasÄ±</title>
    
    <style>
        
        body {
            font-family: Arial, sans-serif; /* YazÄ± tipi seÃ§imi */
            display: flex; /* Esnek yerleÅŸim */
            justify-content: center; /* Yatayda ortalama */
            align-items: center; /* Dikeyde ortalama */
            min-height: 100vh; /* Tam ekran yÃ¼ksekliÄŸi */
            background-color: #1a1a2e; /* Koyu arka plan rengi */
            margin: 0; /* Kenar boÅŸluklarÄ±nÄ± sÄ±fÄ±rlama */
            overflow: hidden; /* TaÅŸan iÃ§eriÄŸi gizleme */
        }

        
        .konteyner {
            background-color: #6366f1; /* Mor tonlu arka plan */
            border-radius: 15px; /* YuvarlatÄ±lmÄ±ÅŸ kÃ¶ÅŸeler */
            box-shadow: 0 10px 25px rgba(0,0,0,0.1); /* Hafif gÃ¶lgelendirme */
            padding: 70px; /* Ä°Ã§ boÅŸluk */
            width: 550px; /* GeniÅŸlik */
            text-align: center; /* Ä°Ã§eriÄŸi ortala */
            animation: slide-up 0.6s ease; /* Sayfa yÃ¼klenme animasyonu */
            position: relative;
            overflow: hidden;
        }

        /* Sayfa yÃ¼klenirken yukarÄ± doÄŸru kayma animasyonu */
        @keyframes slide-up {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        /* Hava durumu ikonu iÃ§in stil ve animasyon
         * Dikkat Ã§ekici ve dinamik bir gÃ¶rÃ¼nÃ¼m saÄŸlar */
        .hava-durumu-ikon {
            font-size: 5rem; /* BÃ¼yÃ¼k boyut */
            margin-bottom: 20px; /* Alt boÅŸluk */
            animation: bounce 1.5s infinite; /* SÃ¼rekli zÄ±plama efekti */
            display: inline-block;
        }

        /* ZÄ±plama animasyonu tanÄ±mÄ± */
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        /* Detay kartlarÄ± iÃ§in grid dÃ¼zeni 
         * Esnek ve responsive bir tasarÄ±m */
        .detay-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr); /* 3 eÅŸit sÃ¼tun */
            gap: 15px; /* SÃ¼tunlar arasÄ± boÅŸluk */
            margin-top: 20px;
        }

        /* Her bir detay kartÄ±nÄ±n stil Ã¶zellikleri */
        .detay-kart {
            background-color: #f8f9fa; /* AÃ§Ä±k arka plan rengi */
            border-radius: 10px; /* YuvarlatÄ±lmÄ±ÅŸ kÃ¶ÅŸeler */
            padding: 15px;
            transition: transform 0.3s; /* Hover efekti iÃ§in geÃ§iÅŸ */
        }

        /* Fare Ã¼zerine gelince kartÄ±n bÃ¼yÃ¼mesi */
        .detay-kart:hover {
            transform: scale(1.05);
        }
    </style>
</head>
<body>
    
    <div class="konteyner">
        <!-- Åehir seÃ§imi ve arama kutusu 
             KullanÄ±cÄ±nÄ±n ÅŸehir seÃ§mesine saÄŸlar -->
        <div class="arama-kutusu">
            <select id="sehirSecimi">
                <option value="">Åehir SeÃ§in</option>
                <!-- TÃ¼rkiye'den farklÄ± ÅŸehirlerin enlem ve boylamlarÄ± -->
                <option value="istanbul" data-lat="41.0082" data-lon="28.9784">Ä°stanbul</option>
                <option value="ankara" data-lat="39.9334" data-lon="32.8597">Ankara</option>          
                <option value="antalya" data-lat="36.8969" data-lon="30.7133">Antalya</option>
            </select>
            <button onclick="havaDurumuGetir()">Hava Durumunu GÃ¶ster</button>
        </div>

        <!-- Hava durumu bilgileri gÃ¶sterge alanÄ± -->
        <div class="hava-bilgisi">
            <!-- Hava durumu ikonu: AnlÄ±k hava durumunu gÃ¶sterir -->
            <div class="hava-durumu-ikon" id="havaDurumuIkon">â˜€ï¸</div>
            
            <!-- SeÃ§ilen ÅŸehrin adÄ± -->
            <div class="sehir" id="sehirAdi">Åehir SeÃ§iniz</div>
            
            <!-- AnlÄ±k sÄ±caklÄ±k bilgisi -->
            <div class="sicaklik" id="sicaklik">--Â°C</div>
        </div>

        <!-- DetaylÄ± hava durumu bilgileri -->
        <div class="detay-grid">
            <!-- SÄ±caklÄ±k detaylarÄ± -->
            <div class="detay-kart">
                <div class="detay-baslik">SÄ±caklÄ±k</div>
                <div class="detay-deger" id="sicaklikDetay">-- Â°C</div>
            </div>
            
            <!-- YaÄŸÄ±ÅŸ-->
            <div class="detay-kart">
                <div class="detay-baslik">YaÄŸÄ±ÅŸ OlasÄ±lÄ±ÄŸÄ±</div>
                <div class="detay-deger" id="yagisOlasiligi">--%</div>
            </div>
            
            <!-- RÃ¼zgar hÄ±zÄ± -->
            <div class="detay-kart">
                <div class="detay-baslik">RÃ¼zgar HÄ±zÄ±</div>
                <div class="detay-deger" id="ruzgarHizi">-- km/s</div>
            </div>
        </div>
    </div>

    <script>
        
        // Hava durumu ikonlarÄ±: FarklÄ± hava koÅŸullarÄ± iÃ§in emoji simgeler
        const havaDurumuIkonlari = {
            'clear': 'â˜€ï¸',      // AÃ§Ä±k hava
            'partly_cloudy': 'â›…', // KÄ±smen bulutlu
            'cloudy': 'â˜ï¸',     // Bulutlu
            'rain': 'ğŸŒ§ï¸',      // YaÄŸmurlu
            'thunderstorm': 'â›ˆï¸', // FÄ±rtÄ±nalÄ±
            'snow': 'â„ï¸',      // KarlÄ±
            'windy': 'ğŸ’¨'       // RÃ¼zgarlÄ±
        };

        // Hava durumu ikonunu belirleyen algoritma
        // SÄ±caklÄ±k, yaÄŸÄ±ÅŸ olasÄ±lÄ±ÄŸÄ± ve rÃ¼zgar hÄ±zÄ±na gÃ¶re ikon seÃ§er
        function havaIkonunuBelirle(sicaklik, yagisOlasiligi, ruzgarHizi) {
            if (yagisOlasiligi > 50) return havaDurumuIkonlari['rain'];
            if (ruzgarHizi > 20) return havaDurumuIkonlari['windy'];
            if (sicaklik > 30) return havaDurumuIkonlari['clear'];
            if (sicaklik > 20) return havaDurumuIkonlari['partly_cloudy'];
            if (sicaklik > 10) return havaDurumuIkonlari['cloudy'];
            return havaDurumuIkonlari['snow'];
        }

        // Hava durumu bilgisini API'den Ã§eken asenkron fonksiyon
        async function havaDurumuGetir() {
            // SeÃ§ili ÅŸehri al
            const sehirSecimi = document.getElementById('sehirSecimi');
            const seciliSecenek = sehirSecimi.options[sehirSecimi.selectedIndex];
            
            // Åehir seÃ§imi kontrolÃ¼
            if (!seciliSecenek.value) {
                alert('LÃ¼tfen bir ÅŸehir seÃ§in');
                return;
            }

            // SeÃ§ili ÅŸehrin koordinatlarÄ±nÄ± al
            const enlem = seciliSecenek.getAttribute('data-lat');
            const boylam = seciliSecenek.getAttribute('data-lon');

            try {
                // Open-Meteo API'sinden hava durumu verilerini Ã§ek
                const yanit = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${enlem}&longitude=${boylam}&current_weather=true&hourly=temperature_2m,precipitation_probability,windspeed_10m`);
                const veriler = await yanit.json();

                // ArayÃ¼zÃ¼ gÃ¼ncelle
                arayuzuGuncelle(veriler, seciliSecenek.text);
            } catch (hata) {
                console.error('Hata:', hata);
                alert('Hava durumu bilgisi alÄ±namadÄ±');
            }
        }

        // ArayÃ¼zÃ¼ gÃ¼ncelleyen fonksiyon
        function arayuzuGuncelle(veriler, sehirAdi) {
            // Åehir adÄ±nÄ± gÃ¼ncelle
            document.getElementById('sehirAdi').textContent = sehirAdi;
            
            // GÃ¼ncel hava verilerini al
            const mevcutHavaDurumu = veriler.current_weather;
            const saatlikVeriler = veriler.hourly;

            // SÄ±caklÄ±k bilgilerini gÃ¼ncelle
            const sicaklik = Math.round(mevcutHavaDurumu.temperature);
            document.getElementById('sicaklik').textContent = `${sicaklik}Â°C`;
            document.getElementById('sicaklikDetay').textContent = `${sicaklik}Â°C`;
            
            // YaÄŸÄ±ÅŸ olasÄ±lÄ±ÄŸÄ±nÄ± gÃ¼ncelle
            const yagisOlasiligi = saatlikVeriler.precipitation_probability[0];
            document.getElementById('yagisOlasiligi').textContent = `${yagisOlasiligi}%`;
            
            // RÃ¼zgar hÄ±zÄ±nÄ± gÃ¼ncelle
            const ruzgarHizi = mevcutHavaDurumu.windspeed;
            document.getElementById('ruzgarHizi').textContent = `${ruzgarHizi} km/s`;

            // Hava durumu ikonunu gÃ¼ncelle
            const havaIkonu = havaIkonunuBelirle(sicaklik, yagisOlasiligi, ruzgarHizi);
            document.getElementById('havaDurumuIkon').textContent = havaIkonu;
        }

        // Sayfa yÃ¼klendiÄŸinde varsayÄ±lan ÅŸehrin hava durumunu geti
        document.addEventListener('DOMContentLoaded', () => {
            const varsayilanSehir = document.querySelector('#sehirSecimi option:nth-child(2)');
            document.getElementById('sehirSecimi').value = varsayilanSehir.value;
            havaDurumuGetir();
        });
    </script>
</body>
</html>